<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>

  <title>Telomatic - Gallery</title>

  <!-- CSS stylesheet(s) -->
  <!-- <link rel="stylesheet" type="text/css" href="gallery.css" /> -->
  <style>
    h1 { text-align: center; }
    #imageGallery {
      justify-content: center;
      display: grid;
      /* grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); */
      grid-template-columns: repeat(auto-fit, 400px);
      /* grid-auto-columns: 400px; */
      grid-auto-rows: auto;
      /* grid-auto-rows: 300px; */
      grid-gap: 5px;
      grid-auto-flow: dense;
    }
    #imageGallery img { width: 100%; height: 100%; }
  </style>

  <!-- Library script(s) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>

<body>
  <!-- HTML -->
  <h1>TELOMATIC GALLERY</h1>

  <div id="imageGallery"></div>

  <!-- Local script(s) -->
  <script>
    window.onload = function() {
      $.get("gallery.php", function(data, status){
        let imgArray = JSON.parse(data);
        let href = [], img = [];
        // console.log(imgArray);
        // iterative
        for (var i = 0; i < imgArray.length; i++) {
          let imgURL = `../upload/${imgArray[i]}`;
          let href = document.createElement("a");
          href.setAttribute('id', imgURL);
          href.setAttribute('href', imgURL);
          href.setAttribute('width', '50%');
          // document.body.appendChild(href);
          document.getElementById("imageGallery").appendChild(href);
          let img = document.createElement("img");
          img.setAttribute('src', imgURL);
          // img.setAttribute('height', '100%');
          // img.setAttribute('width', '30%');
          // document.body.appendChild(img);
          document.getElementById(imgURL).appendChild(img);
          // console.log(document.getElementById(imgURL).getAttribute('width'));
        }
      })
    };
  </script>
</body>

</html>
